---
interface Props {
  type: 'drivers' | 'constructors';
  data: any[];
}

const { type, data } = Astro.props;
---

<div class="overflow-x-auto">
  <table class="w-full text-left border-collapse">
    <thead>
      <tr class="text-xs uppercase tracking-wider text-gray-500 border-b border-white/10">
        <th class="py-4 px-4 font-bold">Pos</th>
        <th class="py-4 px-4 font-bold">{type === 'drivers' ? 'Driver' : 'Team'}</th>
        <th class="py-4 px-4 font-bold text-center hidden sm:table-cell">Wins</th>
        <th class="py-4 px-4 font-bold text-center hidden sm:table-cell">Podiums</th>
        <th class="py-4 px-4 font-bold text-right">Pts</th>
      </tr>
    </thead>
    <tbody class="text-sm">
      {data.map((item, index) => (
        <tr class="group hover:bg-white/5 transition-colors border-b border-white/5 last:border-0">
          <td class="py-4 px-4 font-bold w-12 sm:w-16">
            <span class={`flex items-center justify-center w-8 h-8 rounded-lg ${index < 3 ? 'bg-white/10 text-white border border-white/10' : 'text-gray-600'}`}>
              {item.position}
            </span>
          </td>
          <td class="py-4 px-4">
            <div class="flex items-center gap-3 sm:gap-4">
              <div class="w-1 h-8 rounded-full shrink-0 shadow-[0_0_10px_-2px_var(--team-color)]" style={`background-color: ${item.color}; --team-color: ${item.color}`}></div>
              <div>
                <div class="font-bold text-white text-base sm:text-lg leading-tight tracking-tight">
                  {type === 'drivers' ? `${item.nombre} ${item.apellido}` : item.nombre}
                </div>
                {type === 'drivers' && (
                  <div class="text-xs text-gray-500 mt-1 uppercase tracking-wider font-medium">{item.equipo}</div>
                )}
              </div>
            </div>
          </td>
          <td class="py-4 px-4 text-center text-gray-400 hidden sm:table-cell font-mono">{item.wins}</td>
          <td class="py-4 px-4 text-center text-gray-400 hidden sm:table-cell font-mono">{item.podiums}</td>
          <td class="py-4 px-4 text-right font-black text-xl text-white tracking-tighter italic">{item.points}</td>
        </tr>
      ))}
    </tbody>
  </table>
</div>