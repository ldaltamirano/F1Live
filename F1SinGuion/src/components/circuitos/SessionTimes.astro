---
interface Session {
  id: number;
  nombre: string;
  tipo: string;
  inicio: string;
}

interface Props {
  sesiones: Session[];
}

const { sesiones } = Astro.props;

const formatDate = (dateString: string) => {
  const date = new Date(dateString);
  return {
    day: date.toLocaleDateString('es-ES', { weekday: 'short', day: 'numeric' }),
    time: date.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' })
  };
};
---

<div class="bg-surface rounded-2xl p-6 border border-white/10">
  <h3 class="text-xl font-bold text-text mb-6 flex items-center gap-2 uppercase italic">
    <span class="text-accent">Session</span> Times
  </h3>
  
  <div class="space-y-4">
    {sesiones && sesiones.map((session) => {
      const { day, time } = formatDate(session.inicio);
      const isRace = session.tipo === 'Race';
      
      return (
        <div class={`flex justify-between items-center p-3 rounded-lg ${isRace ? 'bg-white/10 border-l-4 border-secondary' : 'bg-white/5 hover:bg-white/10'} transition-colors`}>
          <span class={`font-bold ${isRace ? 'text-text' : 'text-text-muted'}`}>{session.nombre}</span>
          <div class="text-right">
            <div class="text-xs text-text-muted uppercase font-bold">{day}</div>
            <div class="text-sm font-mono text-text">{time}</div>
          </div>
        </div>
      );
    })}
    
    {(!sesiones || sesiones.length === 0) && (
      <p class="text-text-muted text-sm italic text-center py-4">Horarios a√∫n no confirmados.</p>
    )}
  </div>
</div>