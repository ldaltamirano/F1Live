---
interface Props {
  driver: any;
}

const { driver } = Astro.props;
const { nombre, apellido, numero, pais, codigo, team, imagen } = driver;
const teamColor = team?.color_var || '#ffffff';
---

<a 
  href={`/pilotos/${driver.id}`} 
  class="group relative bg-surface rounded-xl overflow-hidden border-l-4 border-white/5 hover:border-[var(--team-color)] transition-all duration-300 hover:shadow-[0_0_20px_-5px_var(--team-color)] hover:-translate-y-1 flex h-40 w-full"
  style={`--team-color: ${teamColor}; border-left-color: var(--team-color);`}
>
  {/* Textura Técnica de Fondo */}
  <div class="absolute inset-0 opacity-[0.06]" style="background-image: radial-gradient(#fff 1px, transparent 1px); background-size: 4px 4px;"></div>
  
  {/* Gradient Overlay */}
  <div class="absolute inset-0 bg-gradient-to-r from-black/25 via-black/10 to-transparent z-0"></div>

  {/* Luz de Neón Ambiental */}
  <div class="absolute right-0 top-0 w-1/2 h-full bg-[var(--team-color)] blur-[100px] opacity-10 group-hover:opacity-20 transition-opacity duration-500"></div>
  
  {/* Foto del Piloto */}
  <div class="absolute bottom-0 right-0 w-1/2 h-full z-0 flex items-end justify-end opacity-50 group-hover:opacity-100 transition-all duration-500 grayscale group-hover:grayscale-0">
    {imagen && (
      <img src={imagen} alt={`${nombre} ${apellido}`} class="h-[115%] w-auto object-contain object-bottom translate-y-2 group-hover:translate-y-0 transition-transform duration-500" />
    )}
  </div>

  <div class="p-6 relative z-10 flex flex-col justify-center h-full w-full">
    <div class="flex items-center justify-between w-full mb-1">
      <div class="text-5xl font-bold text-white tracking-tighter leading-none">
        {numero}
      </div>
      <div class="flex items-center gap-2">
         <span class="text-[10px] font-bold tracking-widest uppercase text-white/60 bg-white/10 px-2 py-1 rounded">{pais}</span>
      </div>
    </div>
    
    <div class="mt-2">
      <span class="block text-sm font-medium text-gray-400 uppercase tracking-wider">{nombre}</span>
      <h2 class="text-3xl font-bold text-white uppercase leading-none tracking-tight group-hover:text-[var(--team-color)] transition-colors">
        {apellido}
      </h2>
    </div>
  </div>
</a>