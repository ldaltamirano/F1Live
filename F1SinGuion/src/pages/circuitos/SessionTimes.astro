---
interface Props {
  sesiones: any[];
}
const { sesiones } = Astro.props;

// Función para formatear fechas de sesiones (Día y Hora)
const formatSessionTime = (isoString: string) => {
  const date = new Date(isoString);
  return {
    day: date.toLocaleDateString('default', { weekday: 'long' }),
    time: date.toLocaleTimeString('default', { hour: '2-digit', minute: '2-digit' })
  };
};
---

<div class="bg-[#1e1e24] rounded-2xl overflow-hidden border border-white/5 shadow-xl">
  <div class="bg-gradient-to-r from-[#e10600] to-red-900 px-6 py-4 flex justify-between items-center">
    <h3 class="font-black italic uppercase text-white tracking-wider">Session Times</h3>
    <span class="text-[10px] bg-black/20 px-2 py-1 rounded text-white/80">Local Time</span>
  </div>
  <div class="divide-y divide-white/5">
    {sesiones && sesiones.length > 0 ? sesiones.map((sesion: any) => {
      const { day, time } = formatSessionTime(sesion.inicio);
      const isRace = sesion.tipo === 'Race';
      return (
        <div class={`p-5 flex justify-between items-center transition-colors ${isRace ? 'bg-white/5 hover:bg-white/10' : 'hover:bg-white/5'}`}>
          <div>
            <div class={`font-bold text-sm ${isRace ? 'text-[#e10600]' : 'text-white'}`}>{sesion.nombre}</div>
            <div class="text-xs text-gray-500 uppercase tracking-wide font-medium">{day}</div>
          </div>
          <div class="text-right">
            <div class="font-mono text-white font-bold text-lg">{time}</div>
          </div>
        </div>
      );
    }) : (
      <div class="p-8 text-center text-gray-500 italic">
        TBC
      </div>
    )}
  </div>
</div>